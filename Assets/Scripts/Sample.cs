using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;

/////////////////////////////////////////////////////////////////////////////////////////////////
/// <summary>
/// Sample.
/// </summary>
/////////////////////////////////////////////////////////////////////////////////////////////////
public class Sample : MonoBehaviour {

  [SerializeField] GameObject result;

  private bool isReady;
	
  /////////////////////////////////////////////////////////////////////////////////////////////////
  /// <summary>
  /// Start this instance.
  /// </summary>
  /////////////////////////////////////////////////////////////////////////////////////////////////
  void Start() {
    StartCoroutine(start());
  }

  /////////////////////////////////////////////////////////////////////////////////////////////////
  /// <summary>
  /// start routine
  /// </summary>
  /////////////////////////////////////////////////////////////////////////////////////////////////
  private IEnumerator start() {
    result.SetActive(false);

    yield return GlobalDialog.Create();

    isReady = true;
  }

  /////////////////////////////////////////////////////////////////////////////////////////////////
  /// <summary>
  /// Update
  /// </summary>
  /////////////////////////////////////////////////////////////////////////////////////////////////
	void Update () {
    if (!isReady) {
      return; 
    }

    // press key A
    if (Input.GetKeyDown(KeyCode.A) && !GlobalDialog.Instance.IsActive) {
      GlobalDialog.Instance.Show("5000兆円欲しいですか？", callbackNo, callbackYes);
    }
	}

  /////////////////////////////////////////////////////////////////////////////////////////////////
  /// <summary>
  /// callback by yes
  /// </summary>
  /////////////////////////////////////////////////////////////////////////////////////////////////
  private void callbackYes() {
    result.SetActive(true);
  }

  /////////////////////////////////////////////////////////////////////////////////////////////////
  /// <summary>
  /// callback by no
  /// </summary>
  /////////////////////////////////////////////////////////////////////////////////////////////////
  private void callbackNo() {
    result.SetActive(false);
  }
}
